<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Stone æ¸¸æˆå¯¼èˆª - ç®¡ç†åå°</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/admin.css">
  <style>
    /* ç®¡ç†é¡µé¢ç‰¹å®šæ ·å¼ */
    .admin-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .admin-panel {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      padding: 30px;
      margin-bottom: 20px;
    }
    
    .login-form {
      max-width: 400px;
      margin: 20px auto;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .form-control {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
    }
    
    .btn-primary {
      background-color: #2563eb;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      width: 100%;
    }
    
    .btn-primary:hover {
      background-color: #1d4ed8;
    }
    
    .alert {
      padding: 10px 15px;
      border-radius: 4px;
      margin-bottom: 20px;
    }
    
    .alert-danger {
      background-color: #fee2e2;
      color: #b91c1c;
      border: 1px solid #f87171;
    }
    
    .admin-menu {
      display: none; /* ç™»å½•å‰éšè— */
    }
    
    .admin-menu.active {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .admin-card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 20px;
      text-align: center;
      transition: transform 0.3s ease;
    }
    
    .admin-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .admin-card h3 {
      margin-bottom: 15px;
      color: #2563eb;
    }
    
    .admin-card-icon {
      font-size: 2.5rem;
      margin-bottom: 15px;
    }
    
    .admin-card p {
      margin-bottom: 15px;
      color: #6b7280;
    }
  </style>
</head>
<body>
  <header class="main-header">
    <h1 class="site-title">AI Stone æ¸¸æˆå¯¼èˆª - ç®¡ç†åå°</h1>
    <nav class="main-nav">
      <a href="/">é¦–é¡µ</a>
      <a href="/favorites.html">æ”¶è—å¤¹</a>
      <a href="/admin/index.html" class="active">ç®¡ç†</a>
      <button id="toggleLang">English</button>
    </nav>
  </header>
  
  <div class="admin-container">
    <!-- ç™»å½•é¢æ¿ -->
    <div class="admin-panel" id="loginPanel">
      <h2>ç®¡ç†å‘˜ç™»å½•</h2>
      <div id="loginError" class="alert alert-danger" style="display: none;"></div>
      
      <form class="login-form" id="loginForm">
        <div class="form-group">
          <label for="username">ç”¨æˆ·å</label>
          <input type="text" id="username" class="form-control" required>
        </div>
        
        <div class="form-group">
          <label for="password">å¯†ç </label>
          <input type="password" id="password" class="form-control" required>
        </div>
        
        <div class="form-group">
          <button type="submit" class="btn-primary">ç™»å½•</button>
        </div>
      </form>
    </div>
    
    <!-- ç®¡ç†èœå• -->
    <div class="admin-menu" id="adminMenu">
      <div class="admin-card" onclick="location.href='/admin/games.html'">
        <div class="admin-card-icon">ğŸ®</div>
        <h3>æ¸¸æˆç®¡ç†</h3>
        <p>æ·»åŠ ã€ç¼–è¾‘å’Œåˆ é™¤æ¸¸æˆ</p>
      </div>
      
      <div class="admin-card" onclick="location.href='/admin/categories.html'">
        <div class="admin-card-icon">ğŸ“Š</div>
        <h3>åˆ†ç±»ç®¡ç†</h3>
        <p>ç®¡ç†æ¸¸æˆåˆ†ç±»</p>
      </div>
      
      <div class="admin-card" onclick="location.href='/admin/upload.html'">
        <div class="admin-card-icon">ğŸ“¤</div>
        <h3>ä¸Šä¼ æ¸¸æˆ</h3>
        <p>æ·»åŠ æ–°æ¸¸æˆåˆ°å¹³å°</p>
      </div>
      
      <div class="admin-card" onclick="location.href='/admin/settings.html'">
        <div class="admin-card-icon">âš™ï¸</div>
        <h3>ç½‘ç«™è®¾ç½®</h3>
        <p>ç®¡ç†ç½‘ç«™åŸºæœ¬è®¾ç½®</p>
      </div>
    </div>
  </div>
  
  <script>
    // å®šä¹‰ç®¡ç†å‘˜ç™»å½•å‡½æ•°ï¼Œç¡®ä¿åœ¨å…¨å±€èŒƒå›´å†…å¯ç”¨
    function adminLogin(username, password) {
      // ç®€å•çš„éªŒè¯é€»è¾‘ï¼Œå®é™…é¡¹ç›®ä¸­åº”ä½¿ç”¨æ›´å®‰å…¨çš„èº«ä»½éªŒè¯æ–¹å¼
      if (username === 'admin' && password === 'password') {
        localStorage.setItem('adminLoggedIn', 'true');
        return true;
      }
      return false;
    }
    
    // æ˜¾ç¤ºæé†’æ¶ˆæ¯
    function showAdminAlert(message, type = 'info') {
      // åˆ›å»ºè­¦å‘Šå…ƒç´ 
      const alertEl = document.createElement('div');
      alertEl.style.position = 'fixed';
      alertEl.style.top = '20px';
      alertEl.style.right = '20px';
      alertEl.style.padding = '10px 15px';
      alertEl.style.borderRadius = '4px';
      alertEl.style.zIndex = '1000';
      alertEl.textContent = message;
      
      // è®¾ç½®ä¸åŒç±»å‹çš„æ ·å¼
      if (type === 'success') {
        alertEl.style.backgroundColor = '#ecfdf5';
        alertEl.style.color = '#065f46';
        alertEl.style.border = '1px solid #a7f3d0';
      } else if (type === 'danger') {
        alertEl.style.backgroundColor = '#fee2e2';
        alertEl.style.color = '#b91c1c';
        alertEl.style.border = '1px solid #f87171';
      } else if (type === 'warning') {
        alertEl.style.backgroundColor = '#fffbeb';
        alertEl.style.color = '#92400e';
        alertEl.style.border = '1px solid #fcd34d';
      } else {
        alertEl.style.backgroundColor = '#eff6ff';
        alertEl.style.color = '#1e40af';
        alertEl.style.border = '1px solid #bfdbfe';
      }
      
      // æ·»åŠ å…³é—­æŒ‰é’®
      const closeBtn = document.createElement('span');
      closeBtn.style.marginLeft = '10px';
      closeBtn.style.cursor = 'pointer';
      closeBtn.innerHTML = '&times;';
      closeBtn.onclick = function() {
        document.body.removeChild(alertEl);
      };
      alertEl.appendChild(closeBtn);
      
      // æ·»åŠ åˆ°é¡µé¢
      document.body.appendChild(alertEl);
      
      // 5ç§’åè‡ªåŠ¨å…³é—­
      setTimeout(() => {
        if (document.body.contains(alertEl)) {
          document.body.removeChild(alertEl);
        }
      }, 5000);
    }
  </script>
  
  <script src="/js/app.js"></script>
  <script src="/js/admin.js"></script>
  <script>
    // ç®¡ç†å‘˜é¡µé¢ç‰¹å®šè„šæœ¬
    document.addEventListener('DOMContentLoaded', () => {
      // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
      checkLoginStatus();
      
      // ç™»å½•è¡¨å•æäº¤
      const loginForm = document.getElementById('loginForm');
      if (loginForm) {
        loginForm.addEventListener('submit', handleLogin);
      }
      
      // è¯­è¨€åˆ‡æ¢æŒ‰é’®
      const toggleLangButton = document.getElementById('toggleLang');
      if (toggleLangButton) {
        toggleLangButton.addEventListener('click', toggleLanguage);
      }
    });
    
    /**
     * æ£€æŸ¥ç™»å½•çŠ¶æ€
     */
    function checkLoginStatus() {
      const isLoggedIn = localStorage.getItem('adminLoggedIn') === 'true';
      
      if (isLoggedIn) {
        // æ˜¾ç¤ºç®¡ç†èœå•
        document.getElementById('loginPanel').style.display = 'none';
        document.getElementById('adminMenu').classList.add('active');
        console.log('ç®¡ç†å‘˜å·²ç™»å½•');
      } else {
        // æ˜¾ç¤ºç™»å½•é¢æ¿
        document.getElementById('loginPanel').style.display = 'block';
        document.getElementById('adminMenu').classList.remove('active');
        console.log('æœªç™»å½•ï¼Œæ˜¾ç¤ºç™»å½•é¢æ¿');
      }
    }
    
    /**
     * å¤„ç†ç™»å½•
     */
    function handleLogin(event) {
      event.preventDefault();
      
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      console.log('å°è¯•ç™»å½•:', username);
      
      // ä½¿ç”¨admin.jsä¸­çš„adminLoginå‡½æ•°éªŒè¯
      if (adminLogin(username, password)) {
        // ç™»å½•æˆåŠŸ
        checkLoginStatus();
        showAdminAlert('ç™»å½•æˆåŠŸï¼Œæ¬¢è¿å›æ¥ï¼', 'success');
      } else {
        // ç™»å½•å¤±è´¥
        const errorElem = document.getElementById('loginError');
        errorElem.textContent = 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯';
        errorElem.style.display = 'block';
      }
    }
    
    /**
     * åˆ‡æ¢è¯­è¨€
     */
    function toggleLanguage() {
      // è·å–å½“å‰è¯­è¨€
      let currentLang = localStorage.getItem('locale') || 'zh';
      
      // åˆ‡æ¢è¯­è¨€
      currentLang = currentLang === 'zh' ? 'en' : 'zh';
      localStorage.setItem('locale', currentLang);
      
      // æ›´æ–°æŒ‰é’®æ–‡æœ¬
      document.getElementById('toggleLang').textContent = currentLang === 'zh' ? 'English' : 'ä¸­æ–‡';
      
      // æ›´æ–°é¡µé¢æ–‡æœ¬
      updateUIText();
    }
    
    /**
     * æ›´æ–°ç•Œé¢æ–‡æœ¬
     */
    function updateUIText() {
      const currentLang = localStorage.getItem('locale') || 'zh';
      
      const translations = {
        zh: {
          'admin.title': 'AI Stone æ¸¸æˆå¯¼èˆª - ç®¡ç†åå°',
          'admin.login': 'ç®¡ç†å‘˜ç™»å½•',
          'admin.username': 'ç”¨æˆ·å',
          'admin.password': 'å¯†ç ',
          'admin.login.button': 'ç™»å½•',
          'admin.login.error': 'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯',
          'admin.games': 'æ¸¸æˆç®¡ç†',
          'admin.games.desc': 'æ·»åŠ ã€ç¼–è¾‘å’Œåˆ é™¤æ¸¸æˆ',
          'admin.categories': 'åˆ†ç±»ç®¡ç†',
          'admin.categories.desc': 'ç®¡ç†æ¸¸æˆåˆ†ç±»',
          'admin.upload': 'ä¸Šä¼ æ¸¸æˆ',
          'admin.upload.desc': 'æ·»åŠ æ–°æ¸¸æˆåˆ°å¹³å°',
          'admin.settings': 'ç½‘ç«™è®¾ç½®',
          'admin.settings.desc': 'ç®¡ç†ç½‘ç«™åŸºæœ¬è®¾ç½®',
          'nav.home': 'é¦–é¡µ',
          'nav.favorites': 'æ”¶è—å¤¹',
          'nav.admin': 'ç®¡ç†'
        },
        en: {
          'admin.title': 'AI Stone Game Navigation - Admin',
          'admin.login': 'Administrator Login',
          'admin.username': 'Username',
          'admin.password': 'Password',
          'admin.login.button': 'Login',
          'admin.login.error': 'Invalid username or password',
          'admin.games': 'Game Management',
          'admin.games.desc': 'Add, edit and delete games',
          'admin.categories': 'Category Management',
          'admin.categories.desc': 'Manage game categories',
          'admin.upload': 'Upload Game',
          'admin.upload.desc': 'Add new games to the platform',
          'admin.settings': 'Website Settings',
          'admin.settings.desc': 'Manage website settings',
          'nav.home': 'Home',
          'nav.favorites': 'Favorites',
          'nav.admin': 'Admin'
        }
      };
      
      // è®¾ç½®é¡µé¢æ ‡é¢˜
      document.title = translations[currentLang]['admin.title'];
      document.querySelector('.site-title').textContent = translations[currentLang]['admin.title'];
      
      // æ›´æ–°å¯¼èˆªé“¾æ¥
      const navLinks = document.querySelectorAll('.main-nav a');
      navLinks[0].textContent = translations[currentLang]['nav.home'];
      navLinks[1].textContent = translations[currentLang]['nav.favorites'];
      navLinks[2].textContent = translations[currentLang]['nav.admin'];
      
      // æ›´æ–°ç™»å½•è¡¨å•
      document.querySelector('#loginPanel h2').textContent = translations[currentLang]['admin.login'];
      document.querySelector('label[for="username"]').textContent = translations[currentLang]['admin.username'];
      document.querySelector('label[for="password"]').textContent = translations[currentLang]['admin.password'];
      document.querySelector('#loginForm .btn-primary').textContent = translations[currentLang]['admin.login.button'];
      
      // æ›´æ–°ç®¡ç†èœå•
      const cards = document.querySelectorAll('.admin-card h3');
      const cardDescs = document.querySelectorAll('.admin-card p');
      
      if (cards.length >= 4) {
        cards[0].textContent = translations[currentLang]['admin.games'];
        cards[1].textContent = translations[currentLang]['admin.categories'];
        cards[2].textContent = translations[currentLang]['admin.upload'];
        cards[3].textContent = translations[currentLang]['admin.settings'];
        
        cardDescs[0].textContent = translations[currentLang]['admin.games.desc'];
        cardDescs[1].textContent = translations[currentLang]['admin.categories.desc'];
        cardDescs[2].textContent = translations[currentLang]['admin.upload.desc'];
        cardDescs[3].textContent = translations[currentLang]['admin.settings.desc'];
      }
    }
  </script>
</body>
</html> 